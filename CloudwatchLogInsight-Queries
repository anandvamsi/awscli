
The least permission given to IAM user to push the logs from the server to any Log group starts with Dev
>>>>>
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "logs:CreateLogStream",
                "logs:PutLogEvents"
            ],
            "Resource": "arn:aws:logs:us-west-2:<AWS Account number>:log-group:Dev*:*"
        }
    ]
}



#To show all the fields
fields @ingestionTime, @logStream, @message, @timestamp

##To filter the message and average it by the server name
filter @message  like /Binding to IPv6 address not available since kernel/ | fields @ingestionTime, @logStream | stats count(*) as error_count by @logStream

#filter message not having this pattern
fields @message | filter @message not like /Exception/

#filter message with exception pattern
filter @message like /Exception/ 
    | stats count(*) as exceptionCount by bin(1h)
    | sort exceptionCount desc
    
#Query specic from server
filter @logStream like /<hostname>/

#Getting the count error specfic in host
filter @logStream like /<hostname>/ | filter @message like /OMI/ |stats count() by bin(2h)
